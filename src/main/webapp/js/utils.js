//----------------------------------------------------------------------------------------------------------------------

let Utils = (function () {

    //------------------------------------------------------------------------------------------------------------------

    const dataProcessor = (function () {
        const fetchHeaders = {headers: {'method': 'GET', 'Content-Type': 'application/json'}};
        function run(do_process) {
            fetch('/getPoll', fetchHeaders).then(res => {
                if(res.status !== 200)
                    return;
                res.json().then(data => do_process(data))
            })
        }

        //--------------------------------------------------------------------------------------------------------------

        return {
            run: run
        }
    })();

    //------------------------------------------------------------------------------------------------------------------

    return {
        dataProcessor: dataProcessor
    }
})();

//----------------------------------------------------------------------------------------------------------------------